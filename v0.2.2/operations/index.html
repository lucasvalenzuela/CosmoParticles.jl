<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Operations · CosmoParticles.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://lucasvalenzuela.github.io/CosmoParticles.jl/operations/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CosmoParticles.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../particles/">Particles</a></li><li><a class="tocitem" href="../particlecollection/">Particle Collections</a></li><li class="is-active"><a class="tocitem" href>Operations</a><ul class="internal"><li><a class="tocitem" href="#Transformations"><span>Transformations</span></a></li><li><a class="tocitem" href="#Further-Operations"><span>Further Operations</span></a></li><li><a class="tocitem" href="#Internals"><span>Internals</span></a></li></ul></li><li><a class="tocitem" href="../properties/">Properties</a></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../utils/">Utils</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Operations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Operations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/master/docs/src/operations.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Operations"><a class="docs-heading-anchor" href="#Operations">Operations</a><a id="Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Operations" title="Permalink"></a></h1><h2 id="Transformations"><a class="docs-heading-anchor" href="#Transformations">Transformations</a><a id="Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Transformations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.rotate" href="#CosmoParticles.rotate"><code>CosmoParticles.rotate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rotate(p::AbstractParticles, rotmat::AbstractMatrix{&lt;:Real}, prop)
rotate(p::AbstractParticles, rotmat::AbstractMatrix{&lt;:Real}, props=[:pos, :vel])</code></pre><p>Rotates the specified properties <code>props</code> of the particles <code>p</code> by the rotation matrix <code>rotmat</code>.</p><p>Creates a copy of the particles with only new pointers to the rotated properties (by default position and velocity). This means that mutations to other properties will affect both the original particles as well as the rotated copied particles. The properties should be given as a single <code>Symbol</code>, or a vector of <code>Symbol</code>s. Only the existing quantities will be rotated (e.g., this method does not throw an error if velocities are not given for the particles).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L30-L42">source</a></section><section><div><pre><code class="nohighlight hljs">rotate(pc::AbstractParticleCollection, rotmat::AbstractMatrix{&lt;:Real}, prop)
rotate(pc::AbstractParticleCollection, rotmat::AbstractMatrix{&lt;:Real}, props=[:pos, :vel])</code></pre><p>Rotates the specified properties <code>props</code> of the particles in the collection by the rotation matrix <code>rotmat</code>.</p><p>Creates a copy of the particle collection with only new pointers to the rotated particles (by default position and velocity). The properties should be given as a single <code>Symbol</code>, or a vector of <code>Symbol</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L56-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LinearAlgebra.rotate!" href="#LinearAlgebra.rotate!"><code>LinearAlgebra.rotate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">LinearAlgebra.rotate!(p::AbstractParticles, rotmat::AbstractMatrix{&lt;:Real}, props=[:pos, :vel])
LinearAlgebra.rotate!(p::AbstractParticles, rotmat::AbstractMatrix{&lt;:Real}, prop)
LinearAlgebra.rotate!(pc::AbstractParticleCollection, rotmat::AbstractMatrix{&lt;:Real}, props=[:pos, :vel])
LinearAlgebra.rotate!(pc::AbstractParticleCollection, rotmat::AbstractMatrix{&lt;:Real}, prop)</code></pre><p>In-place version of <a href="#CosmoParticles.rotate"><code>rotate</code></a>.</p><p>This function is reexported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L80-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate" href="#CosmoParticles.translate"><code>CosmoParticles.translate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate(p::AbstractParticles, Δx, prop::Symbol=:pos)</code></pre><p>Translates the specified property of the particles <code>p</code> by <code>Δx</code>.</p><p>Creates a copy of the particles with only new pointers to the translated property. Typically, <code>Δx</code> will be an <code>AbstractVector</code>, e.g., for positions or velocities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L118-L125">source</a></section><section><div><pre><code class="nohighlight hljs">translate(pc::AbstractParticleCollection, Δx::AbstractVector{&lt;:Number}, prop::Symbol=:pos)</code></pre><p>Translates the specified property of the particles in the collection <code>pc</code> by <code>Δx</code>.</p><p>Creates a copy of the particle collection with only new pointers to the translated properties for the particles. Typically, <code>Δx</code> will be an <code>AbstractVector</code>, e.g., for positions or velocities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L136-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate!" href="#CosmoParticles.translate!"><code>CosmoParticles.translate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate!(p::AbstractParticles, Δx, prop::Symbol=:pos)
translate!(pc::AbstractParticleCollection, Δx, prop::Symbol=:pos)</code></pre><p>In-place version of <a href="#CosmoParticles.translate"><code>translate</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L154-L159">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate_periodic" href="#CosmoParticles.translate_periodic"><code>CosmoParticles.translate_periodic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate_periodic(p::AbstractParticles, centerpos, period, prop::Symbol=:pos)
translate_periodic(pc::AbstractParticleCollection, centerpos, period, prop::Symbol=:pos)</code></pre><p>Translates the specified property of the particles or collection by the <code>period</code> such that all particles are the closest to <code>centerpos</code> as possible.</p><p>Creates a copy of the particles or the collection with only new pointers to the translated property. Typically, <code>centerpos</code> will be an <code>AbstractVector</code>, e.g., for positions, and <code>period</code> can be a <code>Number</code> or <code>AbstractVector</code>, depending on if the period is the same for all dimensions or if they are different.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L201-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate_periodic!" href="#CosmoParticles.translate_periodic!"><code>CosmoParticles.translate_periodic!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate_periodic!(p::AbstractParticles, centerpos, period, prop::Symbol=:pos)
translate_periodic!(pc::AbstractParticleCollection, centerpos, period, prop::Symbol=:pos)</code></pre><p>In-place version of <a href="#CosmoParticles.translate_periodic"><code>translate_periodic</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L231-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate_periodic_to_center" href="#CosmoParticles.translate_periodic_to_center"><code>CosmoParticles.translate_periodic_to_center</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate_periodic_to_center(p::AbstractParticles, centerpos, period, prop::Symbol=:pos)
translate_periodic_to_center(pc::AbstractParticleCollection, centerpos, period, prop::Symbol=:pos)</code></pre><p>Translates the specified property of the particles or collection to place <code>centerpos</code> at the origin.</p><p>The particles are translated periodically to place them closest to <code>centerpos</code>.</p><p>Creates a copy of the particles or the collection with only new pointers to the translated property. Typically, <code>centerpos</code> will be an <code>AbstractVector</code>, e.g., for positions, and <code>period</code> can be a <code>Number</code> or <code>AbstractVector</code>, depending on if the period is the same for all dimensions or if they are different.</p><p>Also see <a href="#CosmoParticles.translate_periodic"><code>translate_periodic</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L254-L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.translate_periodic_to_center!" href="#CosmoParticles.translate_periodic_to_center!"><code>CosmoParticles.translate_periodic_to_center!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">translate_periodic_to_center!(p::AbstractParticles, centerpos, period, prop::Symbol=:pos)
translate_periodic_to_center!(pc::AbstractParticleCollection, centerpos, period, prop::Symbol=:pos)</code></pre><p>In-place version of <a href="#CosmoParticles.translate_periodic_to_center"><code>translate_periodic_to_center</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L288-L293">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.to_comoving" href="#CosmoParticles.to_comoving"><code>CosmoParticles.to_comoving</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">to_comoving(p::AbstractParticles, z::Real; propexp=[(:pos, 1), (:vel, 1)])
to_comoving(pc::AbstractParticleCollection; propexp=[(:pos, 1), (:vel, 1)])</code></pre><p>Create new particles or collection with particle properties converted from physical to comoving.</p><p>The properties and the positional exponent of their units (e.g., 1 for positions, 3 for volumes, and -3 for densities) are passed as the keyword argument <code>propexp</code> as a vector of tuples. The redshift <code>z</code> is obtained from <a href="../particlecollection/#CosmoParticles.redshift"><code>redshift</code></a> for the particle collection.</p><p>The properties are multiplied by <span>$(1 + z)^n$</span> where <span>$n$</span> is the positional exponent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L311-L322">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.to_comoving!" href="#CosmoParticles.to_comoving!"><code>CosmoParticles.to_comoving!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">to_comoving!(p::AbstractParticles, z::Real; propexp=[(:pos, 1), (:vel, 1)])
to_comoving!(pc::AbstractParticleCollection; propexp=[(:pos, 1), (:vel, 1)])</code></pre><p>Convert particle properties from physical to comoving in-place.</p><p>In-place version of <a href="#CosmoParticles.to_comoving"><code>to_comoving</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L325-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.to_physical" href="#CosmoParticles.to_physical"><code>CosmoParticles.to_physical</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">to_physical(p::AbstractParticles, z::Real; propexp=[(:pos, 1), (:vel, 1)])
to_physical(pc::AbstractParticleCollection; propexp=[(:pos, 1), (:vel, 1)])</code></pre><p>Create new particles or collection with particle properties converted from comoving to physical.</p><p>The properties and the positional exponent of their units (e.g., 1 for positions, 3 for volumes, and -3 for densities) are passed as the keyword argument <code>propexp</code> as a vector of tuples. The redshift <code>z</code> is obtained from <a href="../particlecollection/#CosmoParticles.redshift"><code>redshift</code></a> for the particle collection.</p><p>The properties are multiplied by <span>$(1 + z)^{-n}$</span> where <span>$n$</span> is the positional exponent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L335-L346">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.to_physical!" href="#CosmoParticles.to_physical!"><code>CosmoParticles.to_physical!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">to_physical!(p::AbstractParticles, z::Real; propexp=[(:pos, 1), (:vel, 1)])
to_physical!(pc::AbstractParticleCollection; propexp=[(:pos, 1), (:vel, 1)])</code></pre><p>Convert particle properties from comoving to physical in-place.</p><p>In-place version of <a href="#CosmoParticles.to_physical"><code>to_physical</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L349-L356">source</a></section></article><h2 id="Further-Operations"><a class="docs-heading-anchor" href="#Further-Operations">Further Operations</a><a id="Further-Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Further-Operations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Base.sort" href="#Base.sort"><code>Base.sort</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.sort(p::AbstractParticles, prop::Symbol; affect=keys(p), kwargs...)</code></pre><p>Create new particles with the particles sorted according to the specified property.</p><p>All property arrays of the particles are rearranged according to the property being sorted. If the keyword argument <code>affect</code> is a non-empty vector of <code>Symbol</code>s, only those properties are rearranged and added to the newly created particles object. The other keyword arguments are passed on to <a href="https://docs.julialang.org/en/v1/base/sort/#Base.sortperm"><code>Base.sortperm</code></a>.</p><p>The sorting algorithm for unitful properties may also be <code>RadixSort</code> from <a href="https://github.com/JuliaCollections/SortingAlgorithms.jl">SortingAlgorithms.jl</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L30-L42">source</a></section><section><div><pre><code class="nohighlight hljs">Base.sort(pc::AbstractParticleCollection, prop::Symbol; [affect,] kwargs...)</code></pre><p>Create new particle collection with the particles in the collection sorted by calling <code>Base.sort</code> on each of the particles objects.</p><p>If the keyword argument <code>affect</code> is a non-empty vector of <code>Symbol</code>s, only the affected properties are kept for the particles. The specified affected properties do not have to be available for all particles. For collections of <a href="../particles/#CosmoParticles.Particles"><code>Particles</code></a>, <code>affect</code> can alternatively be a vector of tuples in the following form: <code>[(:dm, [:id, :pos, :mass]), (:gas, [:id, :pos, :mass, :temp])]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L48-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.sort!" href="#Base.sort!"><code>Base.sort!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.sort!(p::AbstractParticles, prop::Symbol; kwargs...)</code></pre><p>Sort the particles in-place according to the specified property.</p><p>All property arrays of the particles are rearranged in-place according to the property being sorted. The keyword arguments are passed on to <a href="https://docs.julialang.org/en/v1/base/sort/#Base.sortperm"><code>Base.sortperm</code></a>.</p><p>The sorting algorithm for unitful properties may also be <code>RadixSort</code> from <a href="https://github.com/JuliaCollections/SortingAlgorithms.jl">SortingAlgorithms.jl</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L1-L11">source</a></section><section><div><pre><code class="nohighlight hljs">Base.sort!(pc::AbstractParticleCollection, prop::Symbol; kwargs...)</code></pre><p>Sort the particles in the collection in-place by calling <code>Base.sort!</code> on each of the <a href="../particles/#CosmoParticles.Particles"><code>Particles</code></a> objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.filter" href="#Base.filter"><code>Base.filter</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.filter(f, p::AbstractParticles; affect=keys(p))
Base.filter(f, pc::AbstractParticleCollection[; affect])</code></pre><p>Create new particles or collection with the particles filtered by a mask returned by the function <code>f</code>.</p><p>The function <code>f</code> takes the particles as argument and has to either return a <code>BitArray</code> mask with a length of the number of particles or an array of indices. If the keyword argument <code>affect</code> is a non-empty vector of <code>Symbol</code>s, only those properties are filtered and added to the newly created particles object.</p><p>For collections of <a href="../particles/#CosmoParticles.Particles"><code>Particles</code></a>, <code>affect</code> can alternatively be a vector of tuples in the following form: <code>[(:dm, [:id, :pos, :mass]), (:gas, [:id, :pos, :mass, :temp])]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L101-L114">source</a></section><section><div><pre><code class="nohighlight hljs">Base.filter(p::AbstractParticles, ids; affect=keys(p))
Base.filter(pc::AbstractParticleCollection; ids[, affect])</code></pre><p>Create new particles or collection with them filtered by keeping only the particles with the given IDs.</p><p>If the keyword argument <code>affect</code> is a non-empty vector of <code>Symbol</code>s, only those properties are filtered and added to the newly created particles object.</p><p>For collections of <a href="../particles/#CosmoParticles.Particles"><code>Particles</code></a>, <code>affect</code> can alternatively be a vector of tuples in the following form: <code>[(:dm, [:id, :pos, :mass]), (:gas, [:id, :pos, :mass, :temp])]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L160-L171">source</a></section><section><div><pre><code class="nohighlight hljs">Base.filter(p::AbstractParticles, geo::AbstractCosmoGeometry, prop::Symbol=:pos; affect=keys(p))
Base.filter(pc::AbstractParticleCollection, geo::AbstractCosmoGeometry, prop::Symbol=:pos[; affect])</code></pre><p>Create new particles or collection with them filtered by keeping only the particles inside the given <a href="../geometry/#CosmoParticles.AbstractCosmoGeometry"><code>AbstractCosmoGeometry</code></a>.</p><p>The filter is applied to the property specified. If the keyword argument <code>affect</code> is a non-empty vector of <code>Symbol</code>s, only those properties are filtered and added to the newly created particles object.</p><p>For collections of <a href="../particles/#CosmoParticles.Particles"><code>Particles</code></a>, <code>affect</code> can alternatively be a vector of tuples in the following form: <code>[(:dm, [:id, :pos, :mass]), (:gas, [:id, :pos, :mass, :temp])]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L198-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.filter!" href="#Base.filter!"><code>Base.filter!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.filter!(f, p::AbstractParticles)
Base.filter!(f, pc::AbstractParticleCollection)</code></pre><p>Filter the particles or collection in-place by masks returned by the function <code>f</code>.</p><p>The function <code>f</code> takes a particles object as argument and has to either return a <code>BitArray</code> mask with a length of the number of particles or an array of indices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L79-L87">source</a></section><section><div><pre><code class="nohighlight hljs">Base.filter!(p::AbstractParticles; ids)
Base.filter!(pc::AbstractParticleCollection; ids)</code></pre><p>Filter the particles or collection in-place by keeping only the particles with the given IDs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L141-L146">source</a></section><section><div><pre><code class="nohighlight hljs">Base.filter!(p::AbstractParticles, geo::AbstractCosmoGeometry, prop::Symbol=:pos)
Base.filter!(pc::AbstractParticleCollection, geo::AbstractCosmoGeometry, prop::Symbol=:pos)</code></pre><p>Filter the particles or collection in-place by keeping only the particles inside the given <a href="../geometry/#CosmoParticles.AbstractCosmoGeometry"><code>AbstractCosmoGeometry</code></a>.</p><p>The filter is applied to the property specified.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/miscoperations.jl#L241-L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.applyind" href="#CosmoParticles.applyind"><code>CosmoParticles.applyind</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.applyind(p::AbstractParticles, ind::AbstractVector; affect=keys(p))</code></pre><p>Create new particles with the given indices or mask applied to all particle properties.</p><p>This can also be called by the simple syntax <code>p[ind]</code>. If the keyword argument <code>affect</code> is a vector of <code>Symbol</code>s, only those properties are indexed into and added to the newly created particles object.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/utils.jl#L55-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.applyind!" href="#CosmoParticles.applyind!"><code>CosmoParticles.applyind!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.applyind!(p::AbstractParticles, ind::AbstractVector)</code></pre><p>In-place application of indices or mask to all particle properties.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/utils.jl#L40-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.findall_in" href="#CosmoParticles.findall_in"><code>CosmoParticles.findall_in</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.findall_in(a::AbstractVector, set)</code></pre><p>Return all indices of <code>a</code> that are in <code>set</code>.</p><p>If both <code>a</code> and <code>set</code> are sorted <code>AbstractVector</code>s, then the optimized <a href="#CosmoParticles.findall_in_sorted"><code>findall_in_sorted</code></a> is called. Otherwise, a <code>Set</code> is constructed from the <code>Vector</code> to perform the checks with <code>in</code>.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/utils.jl#L76-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.findall_in_sorted" href="#CosmoParticles.findall_in_sorted"><code>CosmoParticles.findall_in_sorted</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.findall_in_sorted(a::AbstractVector, set::AbstractVector)</code></pre><p>Return all indices of <code>a</code> that are in <code>set</code>, where both <code>a</code> and <code>set</code> are assumed to be sorted.</p><p>This uses an optimized algorithm that is faster than creating a <code>Set</code> from <code>set</code> and performing checks with <code>in</code>.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/utils.jl#L96-L104">source</a></section></article><h2 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.matrix_rotate" href="#CosmoParticles.matrix_rotate"><code>CosmoParticles.matrix_rotate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.matrix_rotate(vals::AbstractMatrix{&lt;:Number}, rotmat::AbstractMatrix{&lt;:Real})</code></pre><p>Returns <code>vals</code> rotated by the rotation matrix <code>rotmat</code> by regular matrix multiplication. Works for any dimensions and is optimized for unitful arrays.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles.matrix_rotate!" href="#CosmoParticles.matrix_rotate!"><code>CosmoParticles.matrix_rotate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles.matrix_rotate!(vals::AbstractMatrix{&lt;:Number}, rotmat::AbstractMatrix{&lt;:Real})</code></pre><p>In-place version of <a href="#CosmoParticles.matrix_rotate"><code>CosmoParticles.matrix_rotate</code></a>.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L11-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles._applyind" href="#CosmoParticles._applyind"><code>CosmoParticles._applyind</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosmoParticles._applyind(a, ind::AbstractVector)</code></pre><p>Apply indices or mask to a <code>Number</code>, <code>Vector</code>, or <code>Matrix</code>.</p><p>The following indexing is applied:</p><ul><li><code>a::Number</code>: <code>a</code> is returned directly.</li><li><code>a::Vector</code>: <code>a[ind]</code> is returned.</li><li><code>a::Matrix</code>: <code>a[:, ind]</code> is returned.</li></ul><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/utils.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CosmoParticles._translate_periodic" href="#CosmoParticles._translate_periodic"><code>CosmoParticles._translate_periodic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_translate_periodic(x::Number, x₀::Number, period::Number, period_half::Number=1//2*period)</code></pre><p>Returns the coordinate <code>x</code> shifted by the <code>period</code> if reference coordinate <code>x₀</code> is on the other side.</p><p>For periodic simulation boxes, the period corresponds to the boxlength.</p><p>This is not exported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/CosmoParticles.jl/blob/224427ced617a1802bf7a42105da622a74e423f2/src/transformations.jl#L177-L185">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../particlecollection/">« Particle Collections</a><a class="docs-footer-nextpage" href="../properties/">Properties »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Saturday 22 January 2022 21:56">Saturday 22 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
